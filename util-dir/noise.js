var noise={};function Grad(r,e,a){this.x=r,this.y=e,this.z=a}Grad.prototype.dot2=function(r,e){return this.x*r+this.y*e},Grad.prototype.dot3=function(r,e,a){return this.x*r+this.y*e+this.z*a};var grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)],p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],perm=new Array(512),gradP=new Array(512);noise.seed=function(r){0<r&&r<1&&(r*=65536),(r=Math.floor(r))<256&&(r|=r<<8);for(var e=0;e<256;e++){var a=1&e?p[e]^255&r:p[e]^r>>8&255;perm[e]=perm[e+256]=a,gradP[e]=gradP[e+256]=grad3[a%12]}},noise.seed(0);var F2=.5*(Math.sqrt(3)-1),G2=(3-Math.sqrt(3))/6,F3=1/3,G3=1/6;function fade(r){return r*r*r*(r*(6*r-15)+10)}function lerp(r,e,a){return(1-a)*r+a*e}noise.simplex2=function(r,e){var a=(r+e)*F2,d=r-(i=Math.floor(r+a))+(m=(i+(f=Math.floor(e+a)))*G2),t=e-f+m,o=t<d?(G=1,0):(G=0,1),p=d-G+G2,n=t-o+G2,m=(a=d-1+2*G2,r=t-1+2*G2,e=gradP[(i&=255)+perm[f&=255]],gradP[i+G+perm[f+o]]),G=gradP[1+i+perm[1+f]],i=.5-p*p-n*n,f=.5-a*a-r*r;return 70*(((o=.5-d*d-t*t)<0?0:(o*=o)*o*e.dot2(d,t))+(i<0?0:(i*=i)*i*m.dot2(p,n))+(f<0?0:(f*=f)*f*G.dot2(a,r)))},noise.simplex3=function(r,e,a){var d,t,o=(r+e+a)*F3,p=r-(M=Math.floor(r+o))+(h=(M+(v=Math.floor(e+o))+(c=Math.floor(a+o)))*G3),n=e-v+h,m=a-c+h,G=n<=p?m<=n?(w=u=d=1,s=t=0):u=m<=p?(w=s=t=0,d=1):(w=t=d=0,s=1):n<m?(u=t=d=0,w=s=1):p<m?(u=s=d=0,w=t=1):(w=u=t=1,s=d=0),i=p-d+G3,f=n-t+G3,l=m-s+G3,g=p-u+2*G3,P=n-w+2*G3,h=(o=m-G+2*G3,r=p-1+3*G3,e=n-1+3*G3,a=m-1+3*G3,gradP[(M&=255)+perm[(v&=255)+perm[c&=255]]]),s=gradP[M+d+perm[v+t+perm[c+s]]],u=gradP[M+u+perm[v+w+perm[c+G]]],w=gradP[1+M+perm[1+v+perm[1+c]]],M=.6-i*i-f*f-l*l,v=.6-g*g-P*P-o*o,c=.6-r*r-e*e-a*a;return 32*(((G=.6-p*p-n*n-m*m)<0?0:(G*=G)*G*h.dot3(p,n,m))+(M<0?0:(M*=M)*M*s.dot3(i,f,l))+(v<0?0:(v*=v)*v*u.dot3(g,P,o))+(c<0?0:(c*=c)*c*w.dot3(r,e,a)))},noise.perlin2=function(r,e){var a=Math.floor(r);r-=a,e-=p=Math.floor(e);var d=gradP[(a&=255)+perm[p&=255]].dot2(r,e),t=gradP[a+perm[1+p]].dot2(r,e-1),o=gradP[1+a+perm[p]].dot2(r-1,e),p=gradP[1+a+perm[1+p]].dot2(r-1,e-1);return lerp(lerp(d,o,r=fade(r)),lerp(t,p,r),fade(e))},noise.perlin3=function(r,e,a){var d=Math.floor(r),t=Math.floor(e);r-=d,e-=t,a-=l=Math.floor(a);var o=gradP[(d&=255)+perm[(t&=255)+perm[l&=255]]].dot3(r,e,a),p=gradP[d+perm[t+perm[1+l]]].dot3(r,e,a-1),n=gradP[d+perm[1+t+perm[l]]].dot3(r,e-1,a),m=gradP[d+perm[1+t+perm[1+l]]].dot3(r,e-1,a-1),G=gradP[1+d+perm[t+perm[l]]].dot3(r-1,e,a),i=gradP[1+d+perm[t+perm[1+l]]].dot3(r-1,e,a-1),f=gradP[1+d+perm[1+t+perm[l]]].dot3(r-1,e-1,a),l=gradP[1+d+perm[1+t+perm[1+l]]].dot3(r-1,e-1,a-1);return r=fade(r),e=fade(e),a=fade(a),lerp(lerp(lerp(o,G,r),lerp(p,i,r),a),lerp(lerp(n,f,r),lerp(m,l,r),a),e)};module.exports={noise}